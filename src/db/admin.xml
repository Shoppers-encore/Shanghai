<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Admin">
	<!-- admin login from jk_user -->
	<select id="getUser" parameterType="String" resultType="databean.UserDataBean">
		SELECT * FROM jk_user WHERE id=#{id}
	</select>
	<select id="getUserListCount" resultType="int">
		SELECT count(*) FROM jk_user
	</select>
	<select id="getNameuserlist" parameterType="String" resultType="databean.UserDataBean">
		SELECT * FROM jk_user WHERE name=#{name}
	</select>
	<select id="getAlluserlist" parameterType="java.util.Map" resultType="databean.UserDataBean">
		SELECT id, password, name, birthday, tel, email, gender, userLevel, height, weight, address, addressDetail, zipcode, r FROM(
		SELECT id, password, name, birthday, tel, email, gender, userLevel, height, weight, address, addressDetail, zipcode, rownum r FROM 
		(SELECT * FROM jk_user ORDER BY id desc)) WHERE r &gt;= TO_NUMBER(#{start}) AND r &lt;= TO_NUMBER(#{end})
	</select>
	<select id="getSearchCount" parameterType="String" resultType="int">
		SELECT count(ref) FROM jk_product WHERE productCode =TO_CHAR(ref) AND productName LIKE '%'||#{searchWord}||'%'
	</select>
	<select id="getOrderCount" resultType="int">
	 	 SELECT count(*) FROM jk_orderList
	</select>
	<select id="selectOrderList" parameterType="java.util.Map" resultType="databean.OrderListDataBean">
		  SELECT tmp.*, r FROM (SELECT list.*, rownum r FROM (SELECT * FROM jk_orderList ORDER BY ordercode desc) list ORDER BY ordercode  desc) tmp WHERE r &gt;=TO_NUMBER(#{start}) AND r &lt;=TO_NUMBER(#{end})
	</select>
	<select id="userCount" parameterType="String" resultType="int">
	 	 SELECT count(orderCode) FROM jk_orderList WHERE id=#{id}
	</select>
 
 
</mapper>